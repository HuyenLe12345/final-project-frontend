"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[908],{349:(e,n,t)=>{t.d(n,{A:()=>s});const s=function(e){return e?e.toLowerCase().replace("qu\u1ef9","quy").replace(/\s+/g,"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,""):""}},646:()=>{},1302:(e,n,t)=>{t.d(n,{T:()=>s});const s=e=>"medical"===e?"Y t\u1ebf":"education"===e?"Gi\xe1o d\u1ee5c":"technology"===e?"C\xf4ng ngh\u1ec7":"children"===e?"Tr\u1ebb em":"environment"===e?"M\xf4i tr\u01b0\u1eddng":"money"===e?"Ti\u1ec1n":"clothes"===e?"Qu\u1ea7n \xe1o":"book"===e?"S\xe1ch":void 0},4177:(e,n,t)=>{t.d(n,{A:()=>x});var s=t(5043),i=t(8258),r=t(4196),l=t(8155),d=t(3709),c=t(6411),o=t(1302),a=t(349),h=t(579);const x=s.memo((e=>{var n,t,x,j,m,p;let{title:u,detail:g,type:y,users:v,onOpen:f,actionHandler:b,className:N,senior:w,role:D}=e;const[T,k]=(0,s.useState)([]);console.log(D);(0,s.useEffect)((()=>{k([])}),[g]);const[S,C]=(0,s.useState)("Donation");(0,s.useEffect)((()=>{document.title=S}),[S]);const F=e=>{C(e)};return(0,h.jsxs)(i.A,{className:`${N} `,children:[(0,h.jsxs)(i.A.Body,{className:"px-0 py-0",children:["personal-donation"!==y&&(0,h.jsx)("h5",{className:"mb-2 text-muted py-2",children:u}),(0,h.jsxs)("div",{className:"table-responsive",children:[(0,h.jsxs)(r.A,{className:"mb-0 hover borderless ",children:[(0,h.jsx)("thead",{className:"table-success text-white text-center",children:(0,h.jsxs)("tr",{style:{textAlign:"left"},children:["dashboard-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("th",{children:"Tr\u1ea1ng th\xe1i "}),(0,h.jsx)("th",{children:"D\u1ef1 \xe1n "}),(0,h.jsx)("th",{children:"Ng\xe0y"}),(0,h.jsx)("th",{children:"H\xecnh th\u1ee9c"}),(0,h.jsx)("th",{children:"\u0110\u0103ng k\xfd"}),(0,h.jsx)("th",{children:"\u0110\xe3 nh\u1eadn"})]}),"donation"===y&&(0,h.jsxs)(h.Fragment,{children:["partner"===D&&(0,h.jsx)("th",{children:(0,h.jsx)("input",{type:"checkbox",checked:T.length===(null===g||void 0===g?void 0:g.filter((e=>"pending"===e.status)).length)&&g.filter((e=>"pending"===e.status)).length>0,onChange:e=>{if(e.target.checked){const e=g.filter((e=>"pending"===e.status)).map((e=>e._id));k(e)}else k([])}})}),(0,h.jsx)("th",{children:"D\u1ef1 \xe1n "}),(0,h.jsx)("th",{children:"Ng\xe0y"}),(0,h.jsx)("th",{children:"M\xe3 quy\xean g\xf3p"}),(0,h.jsx)("th",{children:"T\xean"}),(0,h.jsx)("th",{children:"Email"}),(0,h.jsx)("th",{children:"H\xecnh th\u1ee9c"}),(0,h.jsx)("th",{children:"\u0110\u0103ng k\xfd"}),(0,h.jsx)("th",{children:"\u0110\xe3 nh\u1eadn"}),(0,h.jsx)("th",{children:"Tr\u1ea1ng th\xe1i "}),"partner"===D&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("th",{children:[" ",(0,h.jsx)("div",{style:{width:"100px"},children:"V\u1eadn chuy\u1ec3n"})," "]}),(0,h.jsx)("th",{children:"\u0110\xednh ch\xednh "})]}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{style:{width:"auto"},children:(0,h.jsx)("strong",{children:"L\xfd do t\u1eeb ch\u1ed1i"})})})]}),"users"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("th",{children:[w&&"partner"===w?"T\xean t\u1ed5 ch\u1ee9c":"T\xean ng\u01b0\u1eddi d\xf9ng"," "]}),(0,h.jsx)("th",{children:"Email "}),(0,h.jsx)("th",{children:"Tr\u1ea1ng th\xe1i "}),(0,h.jsx)("th",{children:"Ho\u1ea1t \u0111\u1ed9ng "})]}),!y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("th",{children:"STT"}),(0,h.jsx)("th",{children:"TI\xcaU \u0110\u1ec0"}),(0,h.jsx)("th",{children:"PH\xc2N M\u1ee4C"}),(0,h.jsx)("th",{children:"TR\u1ea0NG TH\xc1I "})]}),"expired"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("th",{children:"STT"}),(0,h.jsx)("th",{children:"TI\xcaU \u0110\u1ec0"}),(0,h.jsx)("th",{children:"NG\xc0Y"})]}),"personal-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("th",{children:"Th\u1eddi gian "}),(0,h.jsx)("th",{children:" D\u1ef1 \xe1n"}),(0,h.jsx)("th",{children:"H\xecnh th\u1ee9c"}),(0,h.jsx)("th",{children:"\u1ee6ng h\u1ed9"}),(0,h.jsx)("th",{children:"Tr\u1ea1ng th\xe1i "}),(0,h.jsx)("th",{children:"Ghi ch\xfa "})]}),"total-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("th",{}),(0,h.jsx)("th",{children:" Ti\u1ec1n"}),(0,h.jsx)("th",{children:"Qu\u1ea7n \xe1o"}),(0,h.jsx)("th",{children:"S\xe1ch"})]}),"project-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("th",{children:" Ng\u01b0\u1eddi \u1ee7ng h\u1ed9 "}),(0,h.jsx)("th",{children:" H\xecnh th\u1ee9c "}),(0,h.jsx)("th",{children:" Gi\xe1 tr\u1ecb "}),(0,h.jsx)("th",{children:"Th\u1eddi gian "})]})]})}),(0,h.jsxs)("tbody",{className:""+("project-donation"===y?"project-donation text-start":"text-start"),style:{textAlign:"left"},children:["total-donation"!==y&&g&&g.map(((e,n)=>(0,h.jsxs)("tr",{className:(n%2!==0?"table-secondary":"")+" align-middle",children:["donation"===y&&(0,h.jsxs)(h.Fragment,{children:["partner"===D&&(0,h.jsx)("td",{children:(0,h.jsx)("input",{type:"checkbox",checked:T.includes(e._id),onChange:()=>{return n=e._id,void k((e=>e.includes(n)?e.filter((e=>e!==n)):[...e,n]));var n},disabled:"pending"!==e.status})}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{style:{width:"200px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.projectId.title})}),(0,h.jsxs)("td",{children:[" ",(0,h.jsx)("div",{className:"text-muted",style:{minWidth:"200px"},children:new Date(e.createdAt).toLocaleString()})]}),(0,h.jsx)("td",{className:"donation-code",children:(0,h.jsx)("div",{children:e.transactionCode})}),(0,h.jsx)("td",{style:{minWidth:"180px"},children:e.donorName}),(0,h.jsx)("td",{children:e.email}),(0,h.jsx)("td",{style:{minWidth:"120px"},children:"money"===e.typeOfDonation?"Ti\u1ec1n":"clothes"===e.typeOfDonation?"Qu\u1ea7n \xe1o":"S\xe1ch"}),(0,h.jsx)("td",{style:{minWidth:"150px"},children:"money"===e.typeOfDonation?(0,c.s)(String(e.registered)):e.registered}),(0,h.jsx)("td",{style:{minWidth:"150px"},children:"money"===e.typeOfDonation?(0,c.s)(String(e.raised)):e.raised}),(0,h.jsx)("td",{className:""+("pending"===e.status?"text-danger":"confirm"===e.status?"text-success":"gray"),style:{minWidth:"100px"},children:"pending"===e.status?"Ch\u1edd duy\u1ec7t":"confirm"===e.status?"\u0110\xe3 nh\u1eadn":"T\u1eeb ch\u1ed1i"}),"partner"===D&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("td",{children:"post"===e.registeredTransport?"B\u01b0u \u0111i\u1ec7n":"house"===e.registeredTransport?"\u0110\u0103ng k\xfd t\u1ea1i nh\xe0":""}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{style:{width:"150px"},children:(0,h.jsx)(l.A,{type:"button",className:" correct-button  bg-primary border-0 text-white rounded",onClick:()=>{b("correct",[e._id],e.registered,e.typeOfDonation)},disabled:"pending"!==e.status,children:"\u0110\xednh ch\xednh"})})})]}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{style:{width:"200px"},children:"reject"===e.status&&e.reasonForRejection})})]}),"dashboard-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("td",{className:" "+("pending"===e.status?"text-danger":"confirm"===e.status?"text-success":"text-secondary"),children:["pending"===e.status?"Ch\u1edd duy\u1ec7t":"confirm"===e.status?"\u0110\xe3 nh\u1eadn":"T\u1eeb ch\u1ed1i"," "]}),(0,h.jsxs)("td",{children:[(0,h.jsx)("div",{style:{width:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.projectId.title})," "]}),(0,h.jsx)("td",{children:new Date(e.createdAt).toLocaleString()}),(0,h.jsx)("td",{children:(0,o.T)(null===e||void 0===e?void 0:e.typeOfDonation)}),(0,h.jsx)("td",{children:"money"===(null===e||void 0===e?void 0:e.typeOfDonation)?(0,c.s)(e.registered):e.registered}),(0,h.jsx)("td",{children:"money"===(null===e||void 0===e?void 0:e.typeOfDonation)?(0,c.s)(e.raised):e.raised})]}),"users"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("td",{children:(0,h.jsx)("div",{style:{width:`${"partner"!==w&&"100px"}`},children:(0,h.jsx)(d.N_,{onClick:()=>F(e.username||e.organizationName||"Donation"),to:`${"partner"===w?"/quy":"client"===w?"/taikhoan":"/admin"}/${(0,a.A)("partner"===w?e.organizationName:"client"===w?e.username:"profile")}\n                          `,state:{personalPageId:e._id,profileId:e._id},style:{color:"black",textDecoration:"none"},children:w&&"partner"===w?e.organizationName:e.username})})}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{children:e.email})}),(0,h.jsx)("td",{children:(0,h.jsx)("div",{children:e.status})}),(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"d-flex gap-2 justify-content-start",children:[(0,h.jsx)("button",{className:"btn btn-success",children:(0,h.jsx)(d.N_,{to:`/admin/user-management/${e._id}`,style:{textDecoration:"none",color:"white"},state:{profileId:e._id},children:"S\u1eeda"})}),"partner"!==(null===e||void 0===e?void 0:e.role)&&(0,h.jsx)("button",{className:"btn btn-danger",onClick:()=>f(e._id),children:"Xo\xe1"})]})})]}),!y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("td",{children:n+1}),(0,h.jsx)("td",{style:{width:"200px"},children:(0,h.jsx)("div",{style:{width:"100px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title})}),(0,h.jsx)("td",{children:e.category}),(0,h.jsx)("td",{children:(0,h.jsxs)("span",{className:"d-flex align-items-center justify-content-center gap-2",children:[(0,h.jsx)("i",{className:"fas fa-circle text-danger f-10 m-r-5"}),e.status]})})]}),"expired"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("td",{className:"text-center",style:{width:"15%"},children:n+1}),(0,h.jsx)("td",{children:e.title}),(0,h.jsx)("td",{className:"w-25",children:e.deadline})]}),"personal-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("td",{style:{fontSize:"12px"},children:new Date(e.createdAt).toLocaleString()}),(0,h.jsx)("td",{className:"w-25",children:(0,h.jsx)("div",{style:{whiteSpace:"nowrap",width:"250px",overflow:"hidden",textOverflow:"ellipsis"},children:(0,h.jsxs)(d.N_,{onClick:()=>F(e.projectId.title||"Donation"),to:`/projects/${e.projectId._id}`,style:{textDecoration:"none",color:"black"},children:[" ",e.projectId.title]})})}),(0,h.jsx)("td",{style:{width:"120px",textAlign:"center"},children:"money"===e.typeOfDonation?"Ti\u1ec1n":"clothes"===e.typeOfDonation?"Qu\u1ea7n \xe1o":"S\xe1ch"}),(0,h.jsx)("td",{style:{width:"150px"},children:"pending"===e.status||"reject"===e.status?"money"===e.typeOfDonation?(0,c.s)(String(e.registered)):e.registered:"money"===e.typeOfDonation?(0,c.s)(String(e.raised)):e.raised}),(0,h.jsx)("td",{style:{width:"150px",textAlign:"center"},children:"confirm"===e.status?"X\xe1c nh\u1eadn":"pending"===e.status?"Ch\u1edd duy\u1ec7t":"T\u1eeb ch\u1ed1i"}),(0,h.jsx)("td",{style:{width:"200px"},children:"reject"===e.status&&e.reasonForRejection})]}),"project-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("td",{children:e.anonymous?"\u1ea8n danh":e.donorName}),(0,h.jsx)("td",{children:(0,o.T)(e.typeOfDonation)}),(0,h.jsx)("td",{children:"money"===e.typeOfDonation?`${(0,c.s)(String(e.raised))}\u0111`:`${e.raised}${"clothes"===e.typeOfDonation?"chi\u1ebfc":"cu\u1ed1n"}`}),(0,h.jsx)("td",{children:new Date(e.createdAt).toLocaleString()})]})]},e._id))),g&&"total-donation"===y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("tr",{children:[(0,h.jsxs)("td",{style:{width:"100px"},children:["Th\xe1ng ",(new Date).getMonth()+1]}),(0,h.jsxs)("td",{style:{width:"150px"},children:[(0,c.s)(String((null===g||void 0===g||null===(n=g.byMonth)||void 0===n?void 0:n.money)||0)),"\u0111"]}),(0,h.jsxs)("td",{style:{width:"150px"},children:[(null===g||void 0===g||null===(t=g.byMonth)||void 0===t?void 0:t.clothes)||0," chi\u1ebfc"]}),(0,h.jsxs)("td",{style:{width:"150px"},children:[" ",(null===g||void 0===g||null===(x=g.byMonth)||void 0===x?void 0:x.books)||0," cu\u1ed1n"]})]}),(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:"T\u1ed5ng "}),(0,h.jsxs)("td",{children:[(0,c.s)(String((null===g||void 0===g||null===(j=g.amount)||void 0===j?void 0:j.money)||0)),"\u0111"]}),(0,h.jsxs)("td",{children:[(null===g||void 0===g||null===(m=g.amount)||void 0===m?void 0:m.clothes)||0," chi\u1ebfc"]}),(0,h.jsxs)("td",{children:[(null===g||void 0===g||null===(p=g.amount)||void 0===p?void 0:p.books)||0," cu\u1ed1n"]})]})]})]})]}),(!g||0===g.length)&&(0,h.jsx)("p",{style:{textAlign:"center",fontSize:"15px"},children:"Kh\xf4ng c\xf3 th\xf4ng tin n\xe0o \u0111\u01b0\u1ee3c t\xecm th\u1ea5y."})]})]}),"donation"===y&&"partner"===D&&(0,h.jsxs)("div",{className:"d-flex gap-2 mx-3 my-3 justify-content-start align-items-center",children:[(0,h.jsxs)("div",{children:["\u0110\xe3 ch\u1ecdn (",T.length,")"]}),(0,h.jsx)("button",{className:"btn btn-success rounded-pill",disabled:0===T.length,onClick:()=>{b("confirm",T)},children:"X\xe1c nh\u1eadn"}),(0,h.jsx)("button",{className:"btn btn-danger rounded-pill",disabled:0===T.length,onClick:()=>{b("reject",T)},children:"T\u1eeb ch\u1ed1i"})]})]})}))},5881:(e,n,t)=>{t.d(n,{A:()=>i});var s=t(579);const i=e=>{let{children:n,isOpen:t,onClose:i,name:r}=e;if(!t)return null;return(0,s.jsx)("div",{className:"modal-overlay",onClick:e=>{e.target.classList.contains("modal-overlay")&&i()},children:(0,s.jsx)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:n})})}},6411:(e,n,t)=>{t.d(n,{s:()=>s});const s=e=>{e=e.toString().replace(/\./g,"");return new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(e).replace("VND","").trim()}},7198:(e,n,t)=>{t.d(n,{A:()=>i});t(5043),t(646);var s=t(579);const i=e=>{let{label:n,type:t,id:i,name:r,required:l,options:d,className:c,sharedName:o,value:a,disabled:h,onChange:x,rows:j,multiple:m,placeholder:p,min:u}=e;return console.log(l,r),(0,s.jsxs)("div",{className:`form-group ${o}`,children:[n&&"checkbox"!==t?(0,s.jsxs)("label",{htmlFor:i,children:[n,l?(0,s.jsx)("sup",{className:"text-danger",children:"*"}):""]}):null,"textarea"===t?(0,s.jsx)("textarea",{className:`form-control ${c}`,id:i,name:r,rows:j,value:a,onChange:x,placeholder:p,required:l}):"select"===t?(0,s.jsx)("select",{id:i,name:r,required:l,className:`form-control ${c}`,value:a,onChange:x,children:d.map(((e,n)=>(0,s.jsx)("option",{value:e.value,children:e.label},e.id?e.id:e.value||n)))}):"file"===t?(0,s.jsx)("input",{type:"file",id:i,name:r,multiple:m,required:l}):"text"===t||"number"===t||"date"===t||"email"===t||"password"===t?(0,s.jsx)("input",{className:`form-control ${c}`,type:t,id:i,name:r,value:a,onChange:x,min:u,disabled:h,placeholder:p,required:l}):"checkbox"===t?(0,s.jsxs)("div",{className:"checkbox-container",children:[(0,s.jsx)("input",{type:t,name:r,id:i,value:a,disabled:h}),(0,s.jsxs)("label",{htmlFor:i,children:[n,l?(0,s.jsx)("sup",{className:"text-danger",children:"*"}):""]})]}):null]})}},9912:(e,n,t)=>{t.d(n,{A:()=>d});t(5043);var s=t(7198),i=t(8155),r=t(6411),l=t(579);const d=e=>{let{action:n,registered:t,typeOfDona:d,selectedIDs:c,onClose:o,onBulkConfirm:a,onBulkReject:h,onCorrect:x,content:j,deleteUser:m}=e;console.log(t,d);return(0,l.jsxs)("div",{className:"donation-form text-start",children:[(0,l.jsx)("div",{className:"text-end",onClick:o,children:(0,l.jsx)("span",{className:"text-danger",children:" X "})}),(0,l.jsxs)("form",{method:"POST",onSubmit:e=>{if(e.preventDefault(),"confirm"===n)console.log(c,n),a(c,n);else if("reject"===n){const t=new FormData(e.target).get("reasonForRejection");console.log(c,n),h(c,n,t)}else if("correct"===n){const t=new FormData(e.target).get(d);x(c,n,t)}else j&&(console.log("ehy"),m());o()},children:[j&&(0,l.jsx)("p",{children:j}),"reject"===n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"L\xfd do t\u1eeb ch\u1ed1i Quy\xean g\xf3p: "}),(0,l.jsx)(s.A,{type:"text",label:"",id:"reason",name:"reasonForRejection",sharedName:"my-1",className:"form-control",required:!0})]}),"confirm"===n&&(0,l.jsx)("p",{children:'B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn "\u0110\xe3 nh\u1eadn" c\xe1c ph\u1ea7n Quy\xean g\xf3p n\xe0y kh\xf4ng? '}),"correct"===n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h4",{className:"text-success text-center",children:"\u0110\xednh ch\xednh"}),(0,l.jsxs)("p",{children:["Theo th\xf4ng tin, b\u1ea1n \u0111\xe3 \u0111\u0103ng k\xfd \u1ee7ng h\u1ed9"," ",d&&("money"===d?"ti\u1ec1n":"clothes"===d?"qu\u1ea7n \xe1o":"s\xe1ch")," ","v\u1edbi gi\xe1 tr\u1ecb l\xe0"," ",d&&"money"===d?(0,r.s)(String(t)):t," ",d&&("money"===d?"\u0111\u1ed3ng":"clothes"===d?"chi\u1ebfc":"cu\u1ed1n"),"."]}),(0,l.jsxs)("p",{children:["Sau khi trao \u0111\u1ed5i v\xe0 x\xe1c nh\u1eadn th\xf4ng tin v\u1edbi ng\u01b0\u1eddi \u1ee7ng h\u1ed9, ch\xfang t\xf4i \u0111\xednh ch\xednh"," ",d&&("money"===d?"s\u1ed1 ti\u1ec1n":"clothes"===d?"s\u1ed1 l\u01b0\u1ee3ng qu\u1ea7n \xe1o":"s\u1ed1 l\u01b0\u1ee3ng s\xe1ch")," ","m\xe0 ch\xfang t\xf4i \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c l\xe0:"," ",(0,l.jsx)("input",{type:"number",name:d&&d})]})]}),(0,l.jsxs)("div",{className:"mt-3 text-center",children:[(0,l.jsxs)(i.A,{type:"button",className:"btn btn-danger",onClick:o,children:["Hu\u1ef7 b\u1ecf"," "]})," ",(0,l.jsx)(i.A,{type:"submit",className:"btn btn-success",children:"confirm"===n?"\u0110\xe3 nh\u1eadn":"reject"===n?"T\u1eeb ch\u1ed1i":j?"Ch\u1eafc ch\u1eafn":"\u0110\xednh ch\xednh"})]})]})]})}}}]);
//# sourceMappingURL=908.5f85283f.chunk.js.map