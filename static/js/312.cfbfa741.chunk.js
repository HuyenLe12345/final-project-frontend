/*! For license information please see 312.cfbfa741.chunk.js.LICENSE.txt */
(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[312],{307:()=>{},646:()=>{},1072:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var s=a(8139),n=a.n(s),o=a(5043),r=a(7852),l=a(579);const c=o.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,as:o="div",...c}=e;const i=(0,r.oU)(a,"row"),d=(0,r.gy)(),u=(0,r.Jm)(),m=`${i}-cols`,p=[];return d.forEach((e=>{const t=c[e];let a;delete c[e],null!=t&&"object"===typeof t?({cols:a}=t):a=t;const s=e!==u?`-${e}`:"";null!=a&&p.push(`${m}${s}-${a}`)})),(0,l.jsx)(o,{ref:t,...c,className:n()(s,i,...p)})}));c.displayName="Row";const i=c},7198:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});a(5043),a(646);var s=a(579);const n=e=>{let{label:t,type:a,id:n,name:o,required:r,options:l,className:c,sharedName:i,value:d,disabled:u,onChange:m,rows:p,multiple:h,placeholder:g,min:x}=e;return console.log(r,o),(0,s.jsxs)("div",{className:`form-group ${i}`,children:[t&&"checkbox"!==a?(0,s.jsxs)("label",{htmlFor:n,children:[t,r?(0,s.jsx)("sup",{className:"text-danger",children:"*"}):""]}):null,"textarea"===a?(0,s.jsx)("textarea",{className:`form-control ${c}`,id:n,name:o,rows:p,value:d,onChange:m,placeholder:g,required:r}):"select"===a?(0,s.jsx)("select",{id:n,name:o,required:r,className:`form-control ${c}`,value:d,onChange:m,children:l.map(((e,t)=>(0,s.jsx)("option",{value:e.value,children:e.label},e.id?e.id:e.value||t)))}):"file"===a?(0,s.jsx)("input",{type:"file",id:n,name:o,multiple:h,required:r}):"text"===a||"number"===a||"date"===a||"email"===a||"password"===a?(0,s.jsx)("input",{className:`form-control ${c}`,type:a,id:n,name:o,value:d,onChange:m,min:x,disabled:u,placeholder:g,required:r}):"checkbox"===a?(0,s.jsxs)("div",{className:"checkbox-container",children:[(0,s.jsx)("input",{type:a,name:o,id:n,value:d,disabled:u}),(0,s.jsxs)("label",{htmlFor:n,children:[t,r?(0,s.jsx)("sup",{className:"text-danger",children:"*"}):""]})]}):null]})}},7200:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var s=a(5304);const n={postProjectForm:e=>s.A.post("/admin/project-form",e),getDonationListByProjectId:(e,t)=>{const a=`/projects/${e}/donations${t}`;return s.A.get(a)},getDonationByName:(e,t)=>{const a=`/projects/${e}/donationByName${t}`;return s.A.get(a)},getProjectDetail:e=>{const t=`/projects/${e}`;return s.A.get(t)},getProjectDetailFormToEdit:e=>{const t=`/projects/edit/${e}`;return s.A.get(t)},updateProjectDetail:(e,t)=>{const a=`/projects/update/${e}`;return s.A.post(a,t)},getProjectList:e=>{const t=`/admin/projects/${e}`;return s.A.get(t)},getAllProjectList:()=>s.A.get("/projects/all"),getActiveProjects:()=>s.A.get("/projects/active"),getInactiveProjects:()=>s.A.get("/projects/inactive")}},7312:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(5043),n=(a(646),a(3709)),o=a(7200),r=a(7198),l=a(9652);const c=function(e){const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`};var i=a(3003),d=a(1072),u=a(579);const m=()=>{const e=(0,n.Zp)(),[t,a]=(0,s.useState)(null),[m,p]=(0,s.useState)(!1),{projectId:h}=(0,n.g)(),[g,x]=(0,s.useState)(""),[j,b]=(0,s.useState)(""),[y,v]=(0,s.useState)(!1),[f,N]=(0,s.useState)(!1),[A,k]=(0,s.useState)(!1),[S,C]=(0,s.useState)(),[T,$]=(0,s.useState)(),[w,q]=(0,s.useState)(),[P,G]=(0,s.useState)(""),[D,B]=(0,s.useState)(""),[F,M]=(0,s.useState)(""),[z,E]=(0,s.useState)(""),I=(0,i.d4)((e=>e.user.role)),L=(0,i.d4)((e=>e.user.idUser));return(0,s.useEffect)((()=>{h&&L&&async function(t){console.log("this step");const a=await o.A.getProjectDetailFormToEdit(t);if(a&&!0===a.success){const e=a.project;console.log(e),x(e.title||""),b(e.content||"");for(let a=0;a<e.types.length;a++)"money"===e.types[a]&&v(!0),"clothes"===e.types[a]&&N(!0),"book"===e.types[a]&&k(!0);for(let a=0;a<e.goals.length;a++)"money"===e.goals[a].form&&C(e.goals[a].goal),"clothes"===e.goals[a].form&&$(e.goals[a].goal),"book"===e.goals[a].form&&q(e.goals[a].goal);E(e.status),console.log("detai.status",e.status),G(e.category||"");const t=e.deadline?c(e.deadline):"";B(t),a.organizationName&&M(a.organizationName.organizationName)}else!a||500!==a.status&&404!==a.status||e("/error-page",{state:{status:a.status,errors:a.errors}})}(h)}),[h,L]),console.log("x\xe1c m\xecnh",I,z),(0,u.jsxs)(l.A,{formName:"layout-form ",formTitle:"BI\u1ec2U M\u1eaaU VI\u1ebeT D\u1ef0 \xc1N",errorMessage:t,children:[(0,u.jsxs)("form",{encType:"multipart/form-data",method:"POST",onSubmit:async t=>{t.preventDefault(),a("");const s=new FormData(t.target);console.log(s);const n=Object.fromEntries(s.entries());if(h){const t=await o.A.updateProjectDetail(h,s);t&&!0===t.success?(window.alert("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),p(!0)):!t||500!==t.status&&404!==t.status||e("/error-page",{state:{status:t.status,errors:t.errors}})}const r=s.getAll("donationType");if(r.includes("money")&&""===n.moneyGoal||!r.includes("money")&&""!==n.moneyGoal||r.includes("clothes")&&""===n.clothesGoal||!r.includes("clothes")&&""!==n.clothesGoal||r.includes("book")&&""===n.bookGoal||!r.includes("book")&&""!==n.bookGoal)a("M\u1ee5c ti\xeau quy\xean g\xf3p v\xe0 H\xecnh th\u1ee9c quy\xean g\xf3p ch\u01b0a kh\u1edbp!");else if(0===r.length)a("B\u1ea1n c\u1ea7n ch\u1ecdn h\xecnh th\u1ee9c quy\xean g\xf3p cho d\u1ef1 \xe1n");else{a(""),console.log(n);const t=await o.A.postProjectForm(s);t&&!0===t.success?(window.alert("B\u1ea1n \u0111\xe3 t\u1ea1o d\u1ef1 \xe1n th\xe0nh c\xf4ng!"),p(!0)):!t||500!==t.status&&404!==t.status||e("/error-page",{state:{status:t.status,errors:t.errors}})}},children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsxs)("div",{className:"col-sm-6 pt-3 column-1",children:["admin"===I&&(0,u.jsx)(r.A,{label:"T\xean t\u1ed5 ch\u1ee9c:",type:"text",id:"organizationName",name:"organizationName",value:F,onChange:e=>M(e.target.value),required:!0}),(0,u.jsx)(r.A,{label:"Ti\xeau \u0111\u1ec1 d\u1ef1 \xe1n:",type:"text",id:"projectTitle",name:"title",value:g,onChange:e=>x(e.target.value),required:!0}),(0,u.jsx)(r.A,{label:"N\u1ed9i dung",type:"textarea",id:"projectContent",name:"content",rows:"10",value:j,onChange:e=>b(e.target.value),required:!0})]}),(0,u.jsxs)("div",{className:"col-sm-6 pt-3 column-2",children:[(0,u.jsxs)("h6",{children:["H\xecnh th\u1ee9c quy\xean g\xf3p:",(0,u.jsx)("sup",{className:"text-danger",children:"*"})]}),(0,u.jsx)(r.A,{label:"Ti\u1ec1n",type:"checkbox",id:"money",name:"donationType",sharedName:"donationType",value:"money",checked:y,onChange:e=>v(e.target.checked),disabled:h&&!0}),(0,u.jsx)(r.A,{label:"Qu\u1ea7n \xe1o",type:"checkbox",id:"clothes",name:"donationType",sharedName:"donationType",value:"clothes",checked:f,onChange:e=>N(e.target.checked),disabled:h&&!0}),(0,u.jsx)(r.A,{label:"S\xe1ch",type:"checkbox",id:"books",name:"donationType",sharedName:"donationType",value:"book",checked:A,onChange:e=>k(e.target.checked),disabled:h&&!0}),(0,u.jsxs)("h6",{children:["M\u1ee5c ti\xeau quy\xean g\xf3p:",(0,u.jsx)("sup",{className:"text-danger",children:"*"})]}),(0,u.jsxs)(d.A,{className:"ms-1",children:[(0,u.jsx)(r.A,{label:"Ti\u1ec1n",type:"number",id:"moneyGoal",name:"moneyGoal",sharedName:"goal col-md-2 px-0",min:"0",value:S,disabled:h&&!0}),(0,u.jsx)(r.A,{label:"S\xe1ch",type:"number",id:"bookGoal",name:"bookGoal",min:"0",sharedName:"goal col-md-2 px-0",value:w,disabled:h&&!0}),(0,u.jsx)(r.A,{label:"Qu\u1ea7n \xe1o",type:"number",id:"clothesGoal",name:"clothesGoal",min:"0",sharedName:"goal col-md-2 px-0",value:T,onChange:e=>$(e.target.value),disabled:h&&!0})]}),(0,u.jsx)(r.A,{label:"L\u0129nh v\u1ef1c",type:"select",id:"category",name:"category",sharedName:"category",value:P,onChange:e=>G(e.target.value),options:[{value:"education",label:"Gi\xe1o d\u1ee5c"},{value:"children",label:"Tr\u1ebb em"},{value:"medical",label:"Y t\u1ebf"},{value:"environment",label:"M\xf4i tr\u01b0\u1eddng"}],required:!0}),(0,u.jsx)(r.A,{label:"H\u1ea1n cu\u1ed1i:",type:"date",id:"deadline",name:"deadline",className:"form-control",sharedName:"deadline",value:D,onChange:e=>B(e.target.value),disabled:h&&"partner"===I,required:!0}),(0,u.jsx)(r.A,{label:"T\u1ea3i \u1ea3nh:",type:"file",id:"upload",name:"images",sharedName:"images",multiple:!0,required:!h}),h&&(0,u.jsx)(r.A,{label:"Tr\u1ea1ng th\xe1i",type:"select",id:"status",name:"status",sharedName:"status",value:z,onChange:e=>E(e.target.value),options:[{value:"\u0110ang k\xeau g\u1ecdi",label:"\u0110ang k\xeau g\u1ecdi"},{value:"K\u1ebft th\xfac",label:"K\u1ebft th\xfac"}]})]})]}),(0,u.jsx)("p",{children:(0,u.jsxs)("small",{children:[(0,u.jsx)("span",{children:"L\u01b0u \xfd:"})," M\u1ee5c (",(0,u.jsx)("span",{className:"text-danger",children:"*"}),"): kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."]})}),(0,u.jsx)("div",{className:"container-button",children:(0,u.jsx)("button",{type:"submit",className:"btn btn-success text-center",children:"Submit"})})]}),h&&m&&(0,u.jsx)(n.C5,{to:`/projects/${h}`}),m&&!h&&(0,u.jsx)(n.C5,{to:"/projects"})]})}},7852:(e,t,a)=>{"use strict";a.d(t,{Jm:()=>u,Wz:()=>m,gy:()=>d,oU:()=>i});var s=a(5043);a(579);const n=["xxl","xl","lg","md","sm","xs"],o="xs",r=s.createContext({prefixes:{},breakpoints:n,minBreakpoint:o}),{Consumer:l,Provider:c}=r;function i(e,t){const{prefixes:a}=(0,s.useContext)(r);return e||a[t]||t}function d(){const{breakpoints:e}=(0,s.useContext)(r);return e}function u(){const{minBreakpoint:e}=(0,s.useContext)(r);return e}function m(){const{dir:e}=(0,s.useContext)(r);return"rtl"===e}},8139:(e,t)=>{var a;!function(){"use strict";var s={}.hasOwnProperty;function n(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=r(e,o(a)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)s.call(e,a)&&e[a]&&(t=r(t,a));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(n.default=n,e.exports=n):void 0===(a=function(){return n}.apply(t,[]))||(e.exports=a)}()},9652:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});a(307);var s=a(579);const n=e=>{let{children:t,formName:a,formTitle:n,errorMessage:o}=e;return(0,s.jsxs)("div",{className:`container-md  card ${a}`,children:[(0,s.jsx)("h5",{children:n}),o&&(0,s.jsxs)("p",{style:{color:"red",fontSize:"12px"},children:["*",o]}),t]})}}}]);
//# sourceMappingURL=312.cfbfa741.chunk.js.map