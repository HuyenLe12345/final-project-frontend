"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[248],{3471:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(5043),s=a(8126),r=a(3003),l=a(3519),o=a(579);const i=()=>{const{role:e}=(0,r.d4)((e=>e.user)),[t,a]=(0,n.useState)([{value:"partner",label:"\u0110\u1ed1i t\xe1c"}]);return(0,n.useEffect)((()=>{e&&"admin 1"===e?a([{value:"admin",label:"Admin"},{value:"partner",label:"\u0110\u1ed1i t\xe1c"}]):e&&"admin 2"===e&&a([{value:"partner",label:"\u0110\u1ed1i t\xe1c"}])}),[e]),(0,o.jsxs)(l.A,{className:"pc-container bg-white rounded p-4",children:[(0,o.jsx)("h4",{className:"title-dashboard",children:"Qu\u1ea3n l\xfd c\u1ea5p cao"}),(0,o.jsx)(s.A,{options:t,type:"senior",paginationOnSeniorPage:{page:"1",count:"10",searchStatus:"active",searchContent:"",searchTypeOfSenior:"partner"}})]})}},3998:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(5304);const s={getUsersByType:e=>{const t=`/admin/get/user-information${e}`;return console.log(t),n.A.get(t)},getTotalUsers:()=>n.A.get("/admin/get/user-total"),getPartners:e=>{const t=`/admin/get/partner-information${e}`;return n.A.get(t)},getTotalPartners:()=>n.A.get("/admin/get/partner-total"),getAdmins:e=>{const t=`/admin/get/admin-information${e}`;return n.A.get(t)},deleteUser:e=>{const t=`/admin/delete/users/${e}`;return n.A.delete(t)},getTotalAdmins:()=>n.A.get("/admin/get/admin-total"),getTotalInfo:()=>n.A.get("/admin"),createAccountAdmin:e=>n.A.post("/admin/create-account/admin",e),createAccountPartner:e=>n.A.post("/admin/create-account/partner",e),getTotalStats:()=>n.A.get("/admin/get/total-stats"),getBackgrounds:()=>n.A.get("/admin/get/backgrounds"),getPartnerLogos:()=>n.A.get("/admin/get/logos"),getTenDonations:()=>n.A.get("/admin/get/recentDonations"),getDonationByDate:e=>{const t=`/admin/get/donationByDate${e}`;return n.A.get(t)}}},6690:(e,t,a)=>{a.d(t,{A:()=>o});a(5043);var n=a(579);function s(e){const{indexPage:t,handlerChangePage:a,pagination:s}=e,{page:r}=s;return console.log(t),(0,n.jsx)("div",{className:"d-flex ",children:t&&t.map((e=>(0,n.jsx)("li",{className:e===parseInt(r)?"page-item active ":"page-item",onClick:()=>(e=>{a&&a(e)})(e),children:(0,n.jsx)("a",{className:"page-link",children:e})},e)))})}s.defaultProps={indexPage:null,handlerChangePage:null,pagination:{}};const r=s;function l(e){const{pagination:t,handlerChangePage:a,totalPage:s}=e;console.log(s);const{page:l}=t;let o=[];for(var i=1;i<=s;i++)o.push(i);return(0,n.jsxs)("nav",{"aria-label":"Page navigation example",className:"pt-5",children:[(0,n.jsxs)("ul",{className:"pagination justify-content-center justify-content-lg-end",children:[(0,n.jsx)("li",{className:"page-item",children:(0,n.jsx)("button",{className:"page-link",onClick:()=>(e=>{if(!a)return;const t=parseInt(e)-1;a(t)})(l),disabled:l<=1,children:(0,n.jsx)("span",{children:"\xab"})})}),(0,n.jsx)(r,{indexPage:o,handlerChangePage:a,pagination:t}),(0,n.jsx)("li",{className:"page-item",children:(0,n.jsx)("button",{className:"page-link",onClick:()=>(e=>{if(!a)return;const t=parseInt(e)+1;a(t)})(l),disabled:l>=s,children:(0,n.jsx)("span",{children:"\xbb"})})})]}),(0,n.jsx)("div",{className:"pagination justify-content-center justify-content-lg-end",children:(0,n.jsxs)("p",{className:"text-small text-muted mb-0",children:["Showing 1\u201310 of ",10*parseInt(s)," results"]})})]})}l.defaultProps={pagination:{},handlerChangePage:null,totalPage:null};const o=l},7710:()=>{},8126:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(5043),s=a(3709),r=a(3003),l=a(4177),o=a(3998),i=a(246),c=a(6690),g=a(5881),u=a(1072),d=a(8602),p=a(9912),h=a(7198),m=a(3910),A=a(7929),x=(a(7710),a(579));const f=e=>{let{type:t,options:a,paginationOnSeniorPage:f}=e;const[j,v]=(0,n.useState)(null),[y,N]=(0,n.useState)(f),[P,C]=(0,n.useState)(null),[S,b]=(0,n.useState)(null),[T,k]=(0,n.useState)(!1),[w,I]=(0,n.useState)("partner"),[U,O]=(0,n.useState)("active"),[$,B]=(0,n.useState)(""),D=(0,s.Zp)(),{role:M}=(0,r.d4)((e=>e.user));async function E(){let e;const a={type:t,page:y.page,count:y.count,searchStatus:y.searchStatus,searchContent:y.searchContent,searchTypeOfSenior:y.searchTypeOfSenior},n="?"+i.A.stringify(a);e=await o.A.getUsersByType(n),console.log(e,"hello"),e&&!0===e.success?v(e.users):!e||500!==e.status&&404!==e.status&&403!==e.status||D("/error-page",{state:{status:e.status,errors:e.errors}})}(0,n.useEffect)((()=>{(async()=>{let e;if("client"===t?e=await o.A.getTotalUsers():"partner"===w?e=await o.A.getTotalPartners():"admin"===w&&(e=await o.A.getTotalAdmins()),e&&!0===e.success){let t;e.totalUsers&&(t=Math.ceil(parseInt(e.totalUsers)/parseInt(y.count))),e.totalPartners&&(t=Math.ceil(parseInt(e.totalPartners)/parseInt(y.count))),e.totalAdmins&&(t=Math.ceil(parseInt(e.totalAdmins)/parseInt(y.count))),console.log("totalpage",t),C(t)}else!e||500!==e.status&&404!==e.status&&403!==e.status||D("/error-page",{state:{status:e.status,errors:e.errors}})})()}),[t,w]),(0,n.useEffect)((()=>{E()}),[y]);const _=()=>{k(!1)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(u.A,{className:"filter-container justify-content-end  align-items-center",children:["senior"===t&&(0,x.jsx)(d.A,{className:"col-auto",children:(0,x.jsx)(h.A,{value:w,type:"select",id:"type",name:"type",sharedName:"col-auto",className:"filter-control search-status",onChange:e=>{I(e.target.value),N((t=>({...t,searchTypeOfSenior:e.target.value})))},options:a})}),(0,x.jsx)(d.A,{className:"col-auto",children:(0,x.jsx)(h.A,{value:U,type:"select",id:"status",name:"status",sharedName:"col-auto",className:"filter-control search-status ",onChange:e=>{O(e.target.value),N((t=>({...t,searchStatus:e.target.value})))},options:[{value:"active",label:"Ho\u1ea1t \u0111\u1ed9ng"},{value:"inactive",label:"D\u1eebng ho\u1ea1t \u0111\u1ed9ng"}]})}),(0,x.jsx)(d.A,{className:"col-auto",style:{position:"relative"},children:(0,x.jsxs)("div",{className:"search-user",children:[(0,x.jsx)(m.g,{icon:A.$UM,className:" ms-4",style:{position:"absolute",left:"0%",top:"27%",color:"gray"}}),(0,x.jsx)(h.A,{value:$,type:"text",id:"searchContent",name:"searchContent",className:"search-input",placeholder:"T\xecm ki\u1ebfm",onChange:e=>{B(e.target.value),N((t=>({...t,searchContent:e.target.value})))}})]})})]}),(0,x.jsxs)("div",{className:"pc-content mb-5",children:[(0,x.jsx)(l.A,{height:"height",type:"users",title:"client"===t?"Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng":"partner"===w?"Th\xf4ng tin \u0111\u1ed1i t\xe1c":"admin"===w?"Th\xf4ng tin admin":"",detail:j,onOpen:e=>{k(!0),b(e)},senior:"client"===t?"client":w&&"partner"===w?"partner":"admin"}),(0,x.jsx)(c.A,{pagination:y,handlerChangePage:e=>{console.log("Value: ",e),N((t=>({...t,page:e,count:y.count})))},totalPage:P||""})]}),(0,x.jsx)(u.A,{children:(0,x.jsx)(g.A,{isOpen:T,onClose:_,children:(0,x.jsx)(p.A,{content:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn xo\xe1 \u0111\u1ed1i t\u01b0\u1ee3ng n\xe0y kh\xf4ng?",onClose:_,deleteUser:async()=>{const e=await o.A.deleteUser(S);!e||200!==e.status&&!0!==e.success?!e||500!==e.status&&404!==e.status&&403!==e.status||D("/error-page",{state:{status:e.status,errors:e.errors}}):(window.alert(`${e.message}`),E())}})})})]})}}}]);
//# sourceMappingURL=248.f597ac6d.chunk.js.map